// call to action
.block-call_to_action
    .call_to_action
        .description p
            @include lead-hero
        .actions
            a:first-child
                @extend .button--accent
    @include in-page-without-sidebar
        .block-content
            justify-content: center
            .call_to_action--without-image:not(.call_to_action--without-text)
                > div
                    display: flex
                    flex-direction: column
                    margin: auto
                    max-width: columns(10)
                    align-items: center
                    text-align: center
                    .block-title
                        margin-bottom: $spacing-3
                    .description
                        max-width: 100%
                        margin-bottom: space(8)

// categories
.block-categories
    &--grid
        .category-item
            height: 100%
            .category-content
                order: -1
                text-align: center
                + .media
                    padding-top: space(5)
            &:hover
                [class$="-title"] a
                    color: var(--color-accent)
            .media
                margin-bottom: 0
                margin-top: auto
                img
                    aspect-ratio: 507/372

// persons
.block-persons
    &.block-with-long-text
        .persons
            padding-bottom: space(8)
            border-bottom: 1px dotted var(--color-text-alt)
            .person
                margin-bottom: space(25)
                max-width: 91%
                .person-name
                    @include h3

// chapter
.block-chapter
    .block-content
        width: columns(10)
        @include media-breakpoint-down(desktop)
            width: 95%
        .chapter
            margin-bottom: space(25)
            .top
                margin-bottom: $spacing-3
                .block-title
                    @include h4
            .rich-text
                p:nth-of-type(2)
                    font-weight: $regular
                    margin-top: $spacing-4

// projects
.block-projects
    &--alternate
        .project
            .project-content
                align-items: center
                background-color: $color-background-brown
                display: flex
                flex-direction: column
                gap: $spacing-1
                justify-content: center
                text-align: center
                padding: $spacing-3
                transition: opacity 0.3s ease
                z-index: 2
                .project-description
                    flex: unset
                .project-title
                    @include h4
                .project-subtitle
                    @include body-text
                .project-subtitle,
                .project-meta time
                    color: var(--color-text)
                    font-weight: 400
                .project-meta
                    order: -1
            .media
                margin-bottom: 0
                z-index: 1
                img
                    aspect-ratio: 638/468
                    object-fit: cover
            // TODO: remove 'has' when everything is online or decide of a default image
            &:has(.media:empty)
                .project-content
                    aspect-ratio: 638/468
            &:has(.media:not(:empty))
                .project-content
                    bottom: 0
                    left: 0
                    opacity: 0
                    position: absolute
                    top: 0
                    right: 0
            &:hover .project-content
                opacity: 1 !important
        @include media-breakpoint-up(desktop)
            padding: 0 columns(1)
            .project
                width: columns(5)

// organizations
.block-organizations
    .block-content
        .block-title
            @include h4
        .organizations
            display: flex
            justify-content: left
            .media--logo
                max-width: 60%
                background: none
                padding: 24px 0

// image
.block-image
    @include in-page-with-sidebar
        &.image-landscape,
            figure
                width: columns(6)
                margin-bottom: $spacing-6
